<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Soul Scale | Impulse Interactive</title> <meta name="author" content=" "> <meta name="description" content="A Game Off 2023 Project"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://impulseinteractive.github.io/projects/github_jam/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Impulse Interactive</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Soul Scale</h1> <p class="post-description">A Game Off 2023 Project</p> </header> <article> <h2 id="enemy-activation-system">Enemy Activation System</h2> <p>For the musicians that the player needs to target, we opted to have static placements of “enemies” that are activated periodically. The “activated” state includes a spotlight attached to the Blueprint actor that turns on, assigning them a key sequence that is required to “defeat” them, and UI elements that show that sequence along with the time the player has to “defeat” them. The idea was to have the player feel like a conductor that can look at a specific musician and give them directions in the form of keystrokes that correspond to the notes we want the musician to play.</p> <p>Initially, the activation system used a purely random selection from the musicians with a static timer for each activated musician. Later, this system would be tuned to a difficulty system that varies the rate at which new musicians activate as well as how long the player has to hit them with the correct input sequence.</p> <p>There were some constraints that we implemented to make sure the way enemies appeared would feel sufficiently challenging as well as ramp up with the difficulty settings. One was making sure the random selection would ignore currently active musicians, that way the relatively low number of musicians does not have repeated activations that did nothing.</p> <p>Another related constraint was having a max number of active musicians at a time. With the difficulty ramp up that was implemented, the game can get to a point where just the number of active musicians made the game impossible which was not what we wanted as the source of difficulty. The challenge should be from how fast the player can input keys for each musician, not how many musicians are active on screen. The max was calculated as:</p> <div style="text-align: center"> (Total Number of Musicians ÷ 2) + 1 </div> <p>so that if we wanted to expand the levels with more musicians, it was easy to translate without hard coded values.</p> <p>Another constraint was having a set pool of key sequences that we pull from when activating a musician. We wanted to make sure the sequence felt like playing a section of a musical scale so the sequences were made specifically to be keys that are next to each other on the keyboard as well as having varying lengths from 3 to 5 notes in length.</p> <h2 id="managing-enemy-state">Managing Enemy State</h2> <p>As laid out in the previous section, enemies have two states: active, and inactive. When we activate an enemy, we assign it an expiration timer and a random sequence of notes. However, our job doesn’t end there. We must manage each enemy’s state until the moment we deactivate it.</p> <p>There are three ways an enemy can deactivate, listed below.</p> <ol> <li>The player shoots an incorrect note into the enemy.</li> <li>The player shoots a correct note into the enemy, completing its sequence.</li> <li>The enemy’s timer runs out.</li> </ol> <p>To properly resolve scenarios 1 and 2, we need to detect if a player has shot a correct or incorrect note for an enemy’s sequence by managing the enemy’s sequence while it’s active. We do this with 2 arrays, both containing note values. The first array stores the enemy’s correct sequence, while the second array stores the player’s correct note streak.</p> <p><em>correctNotesArray</em></p> <table> <tbody> <tr> <td>Q</td> <td>W</td> <td>E</td> <td>R</td> <td>T</td> </tr> <tr> <td>Q</td> <td>W</td> <td>E</td> <td><em>EMPTY</em></td> <td><em>EMPTY</em></td> </tr> </tbody> </table> <p><em>correctStreakArray</em></p> <p>To check if a player has shot a correct note, we check the current note against the next note in the enemy’s sequence. If the notes match, add a note to the correctStreakArray. Otherwise, we deactivate the enemy and <em>decrease</em> the player’s score. If the newly matched note completes the enemy’s sequence, we deactivate the enemy and <em>increase</em> the player’s score.</p> <h2 id="collisions">Collisions</h2> <p>The collision system is Soul Scale’s connective tissue. Since the game loop revolves around shooting projectiles at enemies, all of our game systems receive information from each collision to update their game state. When the player plays a note, there are four possible collision cases. In this section, we’ll summarize the expected behavior for each collision state.</p> <ol> <li>Hits active enemy, and was the correct next note in the enemy’s sequence.</li> <li>Hits active enemy, and was the incorrect next note in the sequence.</li> </ol> <p>Hitting an active enemy, with either a correct or incorrect note, sends the note to the enemy collision system. The enemy then processes the note and plays</p> <ol> <li>Hits enemy while enemy is inactive</li> <li>Misses enemy</li> </ol> <p>Colliding with an inactive enemy OR with any non-enemy simply triggers the neutral blip sound and destroys the note object entirely.</p> <p>On a technical level, the collision detection logic all lies in the note object itself. We actually hard-coded the logic because there’s only two relevant categories: enemy, and non-enemy. If we’ve collided with an enemy, we call a specific function within that enemy to resolve the collision. Otherwise, we play the neutral blip noise. After handling the collision logic, the note self-destructs.</p> <p>Looking back, this technique was a little sloppy. Introducing new types of collisions would have forced us to write more code directly into the note object. More scalable approach would have been to use an Event Dispatcher. When the note detects a collision, we simply call our Event Dispatcher, which signals to other entities that we’ve collided. Other systems can then resolve the collisions as they see fit. However, considering how few cases we needed to handle, we decided that hard-coding our logic was the fastest and lowest-effort approach.</p> <h2 id="controls">Controls</h2> <p>With the goal of having the player feel like a conductor, we wanted the controls to feel like you were playing an instrument as well as conducting your orchestra. To that end, we decided on two major control mechanics: the mouse that would aim your music notes, and the keyboard keys that would play them. We ended up using three rows of 4 keys each to create an analogue for playing the piano. Each of those twelve keyboard keys corresponds to a different note on the chromatic scale, so each input should feel distinct, just as it would on a piano. With these mechanics combined, the player will be looking towards the desired orchestra member and inputting a sequence of notes, hopefully fulfilling the conductor fantasy.</p> <h2 id="projectiles">Projectiles</h2> <p>For the projectiles, we knew we wanted something visually interesting, that also made sense in context of the keys being pressed. We landed on two different models, a one-note and a two-note, with twelve color variants. These variants are actually four colors with three saturation variants each. Each color aligns with a column of the keyboard control scheme, with the intensity of the color denoting which row of that column was pressed. We also made the projectiles glow, which made them stand out in the dim orchestra hall. All of this together creates a visually interesting sequence of notes for every sequence you play, and in general was just fun to play around with.</p> <h2 id="audio">Audio</h2> <p>Being a game jam entry all about the musical Chromatic Scale, it was important to ensure the audio remained faithful to the scale itself. For this reason, each successful hit on the orchestra members generates a piano sample from the chromatic scale. This allowed us to generate sequences of adjacent notes, or even write songs into the game using these notes.</p> <p>However, sometimes the player would hit the incorrect orchestra member or enter an incorrect note in the sequence. In these cases, we wanted to make it very clear that a mistake had been made, so that it wouldn’t get lost in the noise. These failure sounds were manually recorded combinations of piano notes that sounded awful together, and we think they get the point across.</p> <p>The third scenario on any given note input would be if the player missed entirely, and the note collided with any of the level geometry. This is considered a neutral outcome, so we did not want to confuse the player with a piano sound of any kind. Instead, we generated a range of neutral sounding “blip” noises, so that the player also wouldn’t get tired of hearing the same effect on every miss. This had an unintended side effect of also being very fun to play around with by spamming the walls with notes and hearing the cacophony of blips. Combined with the visuals of the notes, this made for a fun toy that was never part of the initial design.</p> <h2 id="ui">UI</h2> <p>The goal for UI in Soul Scale was to be minimalist and intuitive for the player to use. The UI implemented in this game included the main menu, the in-game HUD (which showed the vibe bar, player score and orchestra member failure chats), the prompts above the orchestra members, the high score screen, and the pause menu. The lessons learned from creating the UI for Soul Scale were immense, showing the team what works and what does not work. Some UI items that worked well were the HUD for vibe bar and player score, the main menu, pause screen, and high score screen. Some UI items that did not work so well were the orchestra member failure chats, the settings UI, and the way data was accessed and used within the UI.</p> <p>Ways of improving the UI is making sure we can completely separate various blueprints in UE. Since many items that the UI needed were found in other blueprints, when changes were made it broke the UI. This can be resolved by using Delegates/Event Dispatchers, which Jandro has provided information on how to incorporate these into future projects. Another issue was the prompts in the top right hand corner from orchestra members when the player failed a note sequence. Most players did not seem to notice it and therefore in the future, game testing should be conducted on friends as to help improve features introduced into a game.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>